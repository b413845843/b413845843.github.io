(function(t){function e(e){for(var a,r,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)r=i[d],s[r]&&p.push(s[r][0]),s[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var l=n[i];0!==s[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02af":function(t,e,n){"use strict";var a=n("8732"),s=n.n(a);s.a},"034f":function(t,e,n){"use strict";var a=n("64a9"),s=n.n(a);s.a},"29f5":function(t,e,n){"use strict";var a=n("8bec"),s=n.n(a);s.a},"43f7":function(t,e,n){},4782:function(t,e,n){"use strict";var a=n("cec8"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("ba4c"),s=n.n(a),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},r=[],i={name:"App"},l=i,c=(n("034f"),n("2877")),u=Object(c["a"])(l,o,r,!1,null,null,null);u.options.__file="App.vue";var d=u.exports,p=n("dad3"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("Layout",[n("Header",{staticClass:"layout",staticStyle:{padding:"0",width:"100%","z-index":"10000"}},[n("topHeader")],1),n("Layout",{staticStyle:{"margin-top":"5px"}},[n("Sider",[n("left-nav")],1),n("Layout",{style:{padding:"20px"}},[n("Breadcrumb",[n("BreadcrumbItem",{key:"home",attrs:{to:"/"}},[t._v("首页")]),t._l(t.$route.meta.bread,function(e,a){return n("BreadcrumbItem",{key:a,attrs:{to:e}},[t._v(t._s(e))])})],2),n("Content",[n("Tabs",{attrs:{value:"name1"}},[n("TabPane",{attrs:{label:"信息状态",name:"name1"}},[n("div",[n("router-view")],1)]),n("TabPane",{attrs:{label:"标签二",name:"name2"}},[t._v("标签二的内容")]),n("TabPane",{attrs:{label:"标签三",name:"name3"}},[t._v("标签三的内容")])],1)],1)],1)],1)],1),n("BackTop")],1)},f=[],h=(n("28a5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Menu",{staticStyle:{padding:"0px 50px"},attrs:{mode:"horizontal",theme:"dark","active-name":"1"}},[a("div",{staticClass:"layout-logo"},[a("img",{staticClass:"logo",attrs:{src:n("9743")}})]),a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"1"}},[a("Icon",{attrs:{type:"ios-navigate"}}),t._v("\n            Item 1\n        ")],1),a("MenuItem",{attrs:{name:"2"}},[a("Icon",{attrs:{type:"ios-keypad"}}),t._v("\n            Item 2\n        ")],1),a("MenuItem",{attrs:{name:"3"}},[a("Icon",{attrs:{type:"ios-analytics"}}),t._v("\n            Item 3\n        ")],1),a("MenuItem",{attrs:{name:"4"}},[a("Icon",{attrs:{type:"ios-paper"}}),t._v("\n            Item 4\n        ")],1)],1)])}),g=[],v={},b=v,w=(n("9c6c1"),Object(c["a"])(b,h,g,!1,null,"75064da9",null));w.options.__file="topHeader.vue";var y=w.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Menu",{attrs:{"active-name":"1-2",theme:"light",width:"auto","open-names":["1"]}},[n("Submenu",{attrs:{name:"1"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"ios-navigate"}}),t._v("\n            数据管理\n        ")],1),n("MenuItem",{attrs:{name:"1-1",to:"/manager/"}},[t._v("打印机")])],2),n("Submenu",{attrs:{name:"2"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"ios-keypad"}}),t._v("\n           ai\n        ")],1),n("MenuItem",{attrs:{name:"2-1"}},[n("router-link",{attrs:{to:"/iview/foo"}},[t._v("/iview/foo")])],1),n("MenuItem",{attrs:{name:"2-2"}},[n("router-link",{attrs:{to:"/iview/bar"}},[t._v("/iview/bar")])],1)],2),n("Submenu",{attrs:{name:"3"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"ios-analytics"}}),t._v("\n            Item 3\n        ")],1),n("MenuItem",{attrs:{name:"3-1"}},[t._v("Option 1")]),n("MenuItem",{attrs:{name:"3-2"}},[t._v("Option 2")])],2)],1)},k=[],I={},x=I,C=Object(c["a"])(x,_,k,!1,null,null,null);C.options.__file="leftNav.vue";var S=C.exports,D={components:{topHeader:y,leftNav:S},data:function(){return{transitionName:"slide-left"}},beforeRouteUpdate:function(t,e,n){var a=t.path.split("/").length,s=e.path.split("/").length;this.transitionName=a<s?"slide-right":"slide-left",n()}},M=D,F=(n("a6b0"),n("b312"),Object(c["a"])(M,m,f,!1,null,"7c823c71",null));F.options.__file="layout.vue";var T=F.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"printerInfo"}},[n("Row",{staticStyle:{"padding-bottom":"10px"}},[n("Tag",{staticStyle:{height:"100%"}},[n("CheckboxGroup",{staticStyle:{display:"inline"},model:{value:t.filterValue,callback:function(e){t.filterValue=e},expression:"filterValue"}},[n("Checkbox",{attrs:{label:"Busy"}}),n("Checkbox",{attrs:{label:"Ready"}}),n("Checkbox",{attrs:{label:"Warn"}}),n("Checkbox",{attrs:{label:"Dead"}}),n("Checkbox",{attrs:{label:"None"}})],1)],1),n("node-view"),n("Button",{attrs:{type:"info"},on:{click:t.fetchData}},[n("Icon",{attrs:{type:"md-refresh",size:"16"}}),t._v(" 刷新列表")],1),n("Poptip",{staticStyle:{float:"right","margin-right":"10px"},attrs:{placement:"left"}},[n("Button",{attrs:{type:"text"},on:{click:t.fetchVersion}},[n("Icon",{attrs:{type:"md-information-circle",size:"14"}}),t._v(" 版本信息")],1),t.version?n("div",{staticClass:"versionSpan",attrs:{slot:"content"},slot:"content"},[n("p",[t._v("webVer : 1.0.0.0")]),n("p",[t._v(" dsPrnService : "+t._s(t.version.dsPrnService.Ver)+" ")]),n("p",[t._v("libdsDevJsLib.so : "+t._s(t.version.DevLib["libdsDevJsLib.so"].Ver)+" ")]),n("p",[t._v("libdsDevBmp.so : "+t._s(t.version.DevLib["libdsDevBmp.so"].Ver)+" ")])]):n("p",{attrs:{slot:"content"},slot:"content"},[t._v("获取数据...")]),t.versonFetching?n("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)],1),n("Table",{attrs:{stripe:"",columns:t.tableCols,data:t.tableData,loading:t.tableLoading},on:{"on-filter-change":t.filterChange}}),n("Row",[n("Page",{staticStyle:{"margin-top":"10px"},attrs:{total:t.tableData.length,size:"small","show-elevator":"","show-sizer":""}})],1),n("Modal",{ref:"deleteModel",attrs:{title:"删除"},model:{value:t.deleteModel,callback:function(e){t.deleteModel=e},expression:"deleteModel"}},[n("div",[t._v("准备删除")])]),n("Modal",{ref:"editeModel",attrs:{title:"编辑"},model:{value:t.editeModel,callback:function(e){t.editeModel=e},expression:"editeModel"}},[n("div",[t._v("编辑")])]),n("Modal",{ref:"addModel",attrs:{title:"add"==t.type?"添加":"编辑","footer-hide":""},model:{value:t.addModel,callback:function(e){t.addModel=e},expression:"addModel"}},[n("Form",{ref:"infoForm",attrs:{model:t.newInfo,"label-width":80}},[n("FormItem",{attrs:{label:"SN",prop:"Number"}},[n("Input",{attrs:{placeholder:"SN"},model:{value:t.newInfo.Number,callback:function(e){t.$set(t.newInfo,"Number",e)},expression:"newInfo.Number"}})],1),n("FormItem",{attrs:{label:"Model",prop:"Model"}},[n("Input",{attrs:{placeholder:"Model"},model:{value:t.newInfo.Model,callback:function(e){t.$set(t.newInfo,"Model",e)},expression:"newInfo.Model"}})],1),n("FormItem",{attrs:{label:"status",prop:"Status"}},[n("Select",{model:{value:t.newInfo.Status,callback:function(e){t.$set(t.newInfo,"Status",e)},expression:"newInfo.Status"}},t._l(t.status,function(e){return n("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}))],1),n("FormItem",{attrs:{label:"Received",prop:"Received"}},[n("Input",{attrs:{placeholder:"Received"},model:{value:t.newInfo.Received,callback:function(e){t.$set(t.newInfo,"Received",e)},expression:"newInfo.Received"}})],1),n("FormItem",{attrs:{label:"Jobs",prop:"Jobs"}},[n("Input",{attrs:{placeholder:"Jobs"},model:{value:t.newInfo.Jobs,callback:function(e){t.$set(t.newInfo,"Jobs",e)},expression:"newInfo.Jobs"}})],1),n("FormItem",{attrs:{label:"Ticks",prop:"Ticks"}},[n("Input",{attrs:{placeholder:"Ticks"},model:{value:t.newInfo.Ticks,callback:function(e){t.$set(t.newInfo,"Ticks",e)},expression:"newInfo.Ticks"}})],1),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("infoForm")}}},[t._v("确定")]),n("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){t.handleReset("infoForm")}}},[t._v("复位")])],1)],1)],1),n("config-view",{attrs:{show:t.showConfig,isLoading:t.isGettingConfig,json:t.configJson},on:{action:t.configAction,"get-config":t.fetchConfig}}),n("print-view",{attrs:{show:t.showPrint,number:t.configNumber},on:{action:t.printAction}})],1)},$=[],j=(n("7f7f"),n("96cf"),n("1da1"));n("6b54");function R(t){var e=Array.isArray(t),n="[object Object]"===Object.prototype.toString.call(t);if(e){for(var a=[],s=0;s<t.length;s++)a[s]=R(t[s]);return a}if(n){var o={};for(var r in t)o[r]=R(t[r]);return o}return t}var N=n("bc3a"),L=n.n(N),E=L.a.create({timeout:5e3}),B=E;E.interceptors.response.use(function(t){var e=t.data;return{data:e}},function(t){if(t&&t.response)switch(t.response.status){case 400:t.message="错误请求";break;case 401:t.message="未授权，请重新登录";break;case 403:t.message="拒绝访问";break;case 404:t.message="请求错误,未找到该资源";break;case 405:t.message="请求方法未允许";break;case 408:t.message="请求超时";break;case 500:t.message="服务器端出错";break;case 501:t.message="网络未实现";break;case 502:t.message="网络错误";break;case 503:t.message="服务不可用";break;case 504:t.message="网络超时";break;case 505:t.message="http版本不支持该请求";break;default:t.message="连接错误".concat(t.response.status)}else t.message="连接到服务器失败";return Promise.reject(t.message)});var P="http://192.168.11.222:30003/api",J=P+"/DeviceList",V=P+"/DeviceInfo",A=P+"/Version",z=P+"/DeviceCfg",q=P+"/SubmitJob";function W(t){return B({url:"".concat(q),method:"post",data:JSON.stringify(t),headers:{"Content-Type":"application/json"},dataType:"json"})}function G(t){return B({url:"".concat(A,"?type=").concat(t),method:"get"})}function H(t,e){return B({url:"".concat(z,"?number=").concat(t,"&type=").concat(e),method:"get"})}function U(){return B({url:J,method:"get"})}function K(t,e){return B({url:"".concat(V,"?number=").concat(t,"&type=").concat(e),method:"get"})}function X(t){return B({url:"http://localhost:3000/printerInfo",method:"post",data:t})}function Y(t){return B({url:"http://localhost:3000/printerInfo/".concat(t.id),method:"put",data:t})}var Q=n("53ca");n("ac6a");function Z(t,e,n){var a;if(Array.isArray(t))a=[],t.forEach(function(t){var n=Z(t,e,"");a.push(n)});else if("object"==Object(Q["a"])(t)&&void 0==t["DataType"]){var s,o;for(var r in t)t[r]["DataType"]?s="leaf":(s="item",o=r);if("item"===s)a={},a.index=e,a.type="item",a.name=o,a.nodes=[],Z(t[o],e+1,a.nodes);else for(var i in t){a={},a.type="leaf",a.index=e,a.name=i,a.dataType=t[i]["DataType"];var l=t[i]["NodeVal"];if("list"===t[i]["DataType"]){var c=t[i]["ListVal"].split(";");a.value=c[l]}else a.value=l;n.push(a)}return a}return a}Node.prototype.log=function(){for(var t="> ",e=0;e<this.index;e++)t+="> ";"item"==this.type?(console.log(t+this.type+" "+this.name),this.nodes.forEach(function(t){t.log()})):console.log(t+"leaf "+this.name)};var tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v(t._s(t.title))]),t._l(t.items,function(e,a){var s=e.title,o=e.content,r=e.datas;return n("div",{staticClass:"leaf"},[r?n("h4",[t._v(t._s(s))]):t._e(),r?n("div",{staticClass:"leaf"},t._l(r,function(e){return n("p",[n("span",{staticClass:"leafTitle"},[t._v(t._s(e.title))]),t._v("  : "),n("span",{staticClass:"leafContent"},[t._v(t._s(e.content))])])})):n("p",{staticClass:"leaf"},[n("span",{staticClass:"leafTitle"},[t._v(t._s(s))]),t._v("  : "),n("span",{staticClass:"leafContent"},[t._v(t._s(o))])])])})],2)},et=[],nt={name:"nodeView",props:{node:Object},data:function(){return{items:[],title:""}},created:function(){this.node&&(this.title=this.node.name,this.items=this.node.nodes.filter(function(t){return"SEP"!=t.name}).map(function(t){return{title:t.name,content:t.value,datas:"multiString"===t.dataType?t.value.split(";").map(function(t){var e=t.split("=");return{title:e[0],content:e[1]}}):null}}))}},at=nt,st=(n("02af"),Object(c["a"])(at,tt,et,!1,null,"9a6005d6",null));st.options.__file="nodeView.vue";var ot=st.exports,rt=["Ready","Busy","Warn","Error","None","Dead"];function it(){return{Number:Math.floor(2e4*Math.random()+1),Model:"DL-210",Status:rt[Math.floor(4*Math.random()+1)],Received:1234,Jobs:Math.floor(255*Math.random()+1),Ticks:Math.floor(50*Math.random()+1)}}var lt={components:{"node-view":ot},data:function(){var t=this;return{tableCols:[{type:"selection",width:60,align:"center"},{type:"expand",width:50,render:function(t,e){return t("more-info-row",{props:{row:e.row}})}},{title:"设备编码",key:"Number",render:function(e,n){return e("a",{on:{click:function(){console.log("请求info 0 ".concat(n.row.Number)),t.fetchInfo(n.row.Number,0)}}},n.row.Number.toUpperCase())}},{title:"型号",key:"Model",render:function(e,n){return e("a",{on:{click:function(){console.log("请求info 1 ".concat(n.row.Number)),t.fetchInfo(n.row.Number,1)}}},n.row.Model)}},{title:"网络/状态",key:"Status",render:function(e,n){return e("dot-link",{props:{click:function(){console.log("请求info 1 ".concat(n.row.Number)),t.fetchInfo(n.row.Number,2)},text:n.row.Status,type:n.row.Net}})}},{title:"接收缓存",key:"Received"},{title:"作业数",key:"Jobs"},{title:"心跳数",key:"Ticks"},{title:"操作",render:function(t,e){var n=this;return t("div",[t("a",{style:{marginRight:"20px",color:"#000"},on:{click:function(){console.log("index ".concat(e.index," number ").concat(e.row.Number)),n.showPrint=!0,n.configNumber=e.row.Number}}},[t("Icon",{props:{type:"md-print",size:16}})]),t("a",{style:{marginRight:"20px",color:"#000"},on:{click:function(){console.log("index ".concat(e.index," number ").concat(e.row.Number)),n.configNumber=e.row.Number,n.fetchConfig("WIFI")}}},[t("Icon",{props:{type:"md-hammer",size:16}})]),t("a",{style:{color:"#000"}},[t("Icon",{props:{type:"md-trash",size:16}})])])}.bind(this)}],infoRules:{Number:[{required:!0,message:"s",trigger:"blur"}],Model:[{required:!0,message:"s",trigger:"blur"}],Status:[{required:!0,message:"s",trigger:"blur"},{type:"enum",enum:["Ready","Busy","None"],trigger:"blur"}],Received:[{required:!0,message:"s",trigger:"blur"}],Jobs:[{required:!0,message:"s",trigger:"blur"}],Ticks:[{required:!0,message:"s",trigger:"blur"}]},tableData:[],tableLoading:!0,deleteModel:!1,editeModel:!1,addModel:!1,newInfo:{Number:"",Model:"",Status:"",Received:0,Jobs:0,Ticks:0},type:"",status:rt,version:null,versonFetching:!1,showConfig:!1,isGettingConfig:!1,configJson:{},configNumber:"",showPrint:!1,isGettingPrinting:!1,filterValue:[]}},mounted:function(){this.$Message.config({top:100,duration:2}),this.fetchData()},methods:{configAction:function(t,e){console.info(JSON.stringify(e)),this.showConfig=!1},printAction:function(t){"cancel"==t&&(this.showPrint=!1)},fetchVersion:function(){var t=Object(j["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.versonFetching=!0,this.version=null,t.next=4,G("json");case 4:e=t.sent,setTimeout(function(){e&&(n.version=e.data,console.log(e.data)),n.versonFetching=!1},200);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),fetchConfig:function(){var t=Object(j["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.showConfig=!0,this.isGettingConfig=!0,this.configJson=null,t.next=5,H(this.configNumber,e).then(function(t){n.configJson=t.data}).catch(function(t){console.log(t),n.$Message.error({content:"请求失败:".concat(t)})});case 5:console.log("stop loading"),setTimeout(function(){n.isGettingConfig=!1},50);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),fetchData:function(){var t=Object(j["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tableLoading=!0,console.log("start fetch data"),t.next=4,U().catch(function(t){console.log(t),n.$Message.error({content:"请求失败"}),n.tableData=[],console.log(111111)});case 4:e=t.sent,this.tableData=e.data,this.tableLoading=!1;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),fetchInfo:function(){var t=Object(j["a"])(regeneratorRuntime.mark(function t(e,n){var a,s,o,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this.$createElement,t.next=3,K(e,n);case 3:s=t.sent,void 0==s.data?this.$Message.error({content:"请求失败,稍后再试"}):(o=Z(s.data),r=o.map(function(t){return a("node-view",{attrs:{node:t}})}),this.$Modal.info({title:"设备  ".concat(e),render:function(t,e){return r},maskClosable:!0}));case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),showDeleteModal:function(t){this.deleteModel=!0},showAddModal:function(){this.newInfo=it(),this.type="add",this.addModel=!0},showEditModal:function(t){this.newInfo=R(t),this.type="edit",this.addModel=!0},handleSubmit:function(t){this.$refs[t].validate(function(){var t=Object(j["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=16;break}if(this.$Message.info({content:"验证成功"}),"add"!=this.type){t.next=8;break}return t.next=5,X(this.newInfo);case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,Y(this.newInfo);case 10:n=t.sent;case 11:a="add"==this.type?"添加":"编辑",void 0==n.data?this.$Message.error({content:"".concat(a,"请求失败,稍后再试")}):(this.$Message.success({content:"".concat(a,"成功")}),this.fetchData()),this.addModel=!1,t.next=17;break;case 16:this.$Message.error({content:"验证失败"});case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}().bind(this))},handleReset:function(t){this.$refs[t].resetFields()},filterChange:function(t){console.log(t)}}},ct=lt,ut=(n("7abe"),Object(c["a"])(ct,O,$,!1,null,"52dfffb8",null));ut.options.__file="printerInfo.vue";var dt=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("Card",{staticClass:"card"},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.isLogin?"登录":"注册")+" "),n("a",{staticStyle:{float:"right"},attrs:{size:"samll"},on:{click:t.gotoRegister}},[t._v(t._s(t.isLogin?"注册":"登录"))])]),n("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[t.isLogin?n("Form",{key:"1",ref:"loginForm",attrs:{model:t.user,"label-width":60,rules:t.rules}},[n("FormItem",{attrs:{label:"用户名",prop:"name"}},[n("Input",{attrs:{placeholder:"输入账户",clearable:""},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),n("FormItem",{attrs:{label:"密码",prop:"password"}},[n("Input",{attrs:{type:"password",placeholder:"密码",clearable:""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),n("FormItem",[n("Button",{attrs:{type:"primary",loading:t.loginging},on:{click:t.login}},[t.loginging?n("span",[t._v("正在登录")]):n("span",[t._v("登录")])])],1)],1):n("Form",{key:"2",ref:"registerForm",attrs:{model:t.ruser,"label-width":80,rules:t.resigsterRules}},[n("FormItem",{attrs:{label:"用户名",prop:"name"}},[n("Input",{attrs:{placeholder:"输入用户名",clearable:""},model:{value:t.ruser.name,callback:function(e){t.$set(t.ruser,"name",e)},expression:"ruser.name"}})],1),n("FormItem",{attrs:{label:"密码",prop:"password"}},[n("Input",{attrs:{placeholder:"密码",clearable:""},model:{value:t.ruser.password,callback:function(e){t.$set(t.ruser,"password",e)},expression:"ruser.password"}})],1),n("FormItem",{attrs:{label:"确认密码",prop:"passwordCheck"}},[n("Input",{attrs:{placeholder:"确认密码",clearable:""},model:{value:t.ruser.passwordCheck,callback:function(e){t.$set(t.ruser,"passwordCheck",e)},expression:"ruser.passwordCheck"}})],1),n("FormItem",{attrs:{label:"邮件",prop:"email"}},[n("Input",{attrs:{placeholder:"邮件",clearable:""},model:{value:t.ruser.email,callback:function(e){t.$set(t.ruser,"email",e)},expression:"ruser.email"}})],1),n("FormItem",[n("Button",{attrs:{type:"primary"}},[t._v("注册")])],1)],1)],1)],1)],1)},mt=[],ft={data:function(){var t=function(t,e,n){""===e?(n(new Error("请输入密码")),console.log("11")):(""!==this.ruser.passwordCheck&&this.ruser.passwordCheck.length>0&&(console.log("22"),this.$refs.registerForm.validateField("passwordCheck")),""===this.ruser.passwordCheck&&this.$refs.registerForm.validateField("passwordCheck"),n())}.bind(this),e=function(t,e,n){""===this.ruser.password?this.$refs.registerForm.validateField("password"):""==e||e.length<=0?(console.log("33"),n(new Error("请再次输入密码"))):this.ruser.password!==e?(console.log("44"),n(new Error("两次输入密码不一致"))):(console.log("55"),n())}.bind(this);return{isLogin:!0,loginging:!1,rules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码名不能为空",trigger:"blur"}],passwordCheck:[{required:!0,message:"密码名不能为空",trigger:"blur"}],email:[{required:!0,message:"密码名不能为空",trigger:"blur"}]},resigsterRules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{validator:t,trigger:"blur"},{required:!0,message:"密码名不能为空",trigger:"blur"}],passwordCheck:[{validator:e,trigger:"blur"},{required:!0,message:"密码名不能为空",trigger:"blur"}],email:[{required:!0,message:"邮件不能为空",trigger:"blur"},{type:"email",message:"email",trigger:"blur"}]},user:{name:"",password:""},ruser:{name:"",password:"",passwordCheck:""}}},methods:{gotoRegister:function(){this.isLogin=!this.isLogin},login:function(){var t=this;this.loginging=!0,console.log(this.isLogin),"123"===this.user.name&&"123"===this.user.password?(this.$Message.success({content:"登录成功"}),setTimeout(function(){t.$router.push("/manager")},2e3)):this.$Message.error({content:"账户名或者密码错误"}),setTimeout(function(){t.loginging=!1},2e3)}}},ht=ft,gt=(n("6a94"),Object(c["a"])(ht,pt,mt,!1,null,"4234839f",null));gt.options.__file="login.vue";var vt=gt.exports;s.a.use(p["a"]);var bt={template:'<div class="foo">foo</div>'},wt={template:'<div class="bar">bar</div>'},yt=new p["a"]({routes:[{path:"/",component:vt,meta:{title:"登录"},alias:"/login"},{path:"/manager",component:T,children:[{path:"",component:dt,meta:{title:"信息",bread:["数据管理","打印机管理"]},alias:"printerInfo"},{path:"foo",component:bt},{path:"bar",component:wt}]}]}),_t=n("323e"),kt=n.n(_t),It=(n("a5d8"),n("e069")),xt=n.n(It),Ct=(n("dcad"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Button",{attrs:{size:"small"},on:{click:t.click}},["Ready"==t.type||"Online"==t.type?n("span",{staticClass:"ivu-tag-success  ivu-tag-dot-inner"}):"Error"==t.type?n("span",{staticClass:"ivu-tag-error .ivu-tag-error.ivu-tag-dot .ivu-tag-dot-inner  ivu-tag-dot-inner"}):n("span",{staticClass:"ivu-tag-warning .ivu-tag-warning.ivu-tag-dot .ivu-tag-dot-inner  ivu-tag-dot-inner"}),t._v("\n    "+t._s(""==t.text?"未知":t.text)+"\n")])}),St=[],Dt={name:"dotLink",props:["click","text","type"]},Mt=Dt,Ft=(n("d937"),Object(c["a"])(Mt,Ct,St,!1,null,"cfe24a22",null));Ft.options.__file="dotLink.vue";var Tt=Ft.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{on:{"on-ok":t.actionOK,"on-cancel":t.actionCancel},model:{value:t.toShow,callback:function(e){t.toShow=e},expression:"toShow"}},[n("div",{staticStyle:{height:"50px"},attrs:{slot:"header"},slot:"header"},[n("div",[t._v("编辑")]),n("Row",{staticStyle:{height:"100%",padding:"15px 0 5px 0px"},attrs:{justify:"center",align:"middle"}},[n("Col",{staticClass:"col",attrs:{span:"12"}},[n("Button",{staticClass:"btn",attrs:{type:t.wod?"primary":"text"},on:{click:function(e){t.changeClick("WIFI")}}},[t._v("WIFI")])],1),n("Col",{staticClass:"col",attrs:{span:"12"}},[n("Button",{staticClass:"btn",attrs:{type:0==t.wod?"primary":"text"},on:{click:function(e){t.changeClick("DEVICE")}}},[t._v("DEVICE")])],1)],1)],1),null!=t.data?n("div",[n("Collapse",{attrs:{simple:"",accordion:""},model:{value:t.collapse,callback:function(e){t.collapse=e},expression:"collapse"}},t._l(t.data.items,function(e,a){return n("Panel",{key:e.name,attrs:{name:String(a)}},[t._v("\n                "+t._s(e.name)+"\n                "),e.items?n("Form",{attrs:{slot:"content","label-width":120},slot:"content"},t._l(e.items,function(e){return n("FormItem",{key:e.name,staticClass:"leaf",attrs:{label:e.name}},["string"==e.dataType?n("Input",{attrs:{placeholder:""},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"subItem.value"}}):"value"==e.dataType?n("Input",{attrs:{placeholder:""},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"subItem.value"}}):"data"==e.dataType?n("Input",{attrs:{placeholder:""},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"subItem.value"}}):"list"==e.dataType?n("Select",{model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"subItem.value"}},t._l(e.list,function(e){return n("Option",{key:e.index,attrs:{value:e.index}},[t._v(t._s(e.label))])})):t._e()],1)})):t._e()],1)}))],1):n("p",[t._v("获取失败")]),t.isLoading?n("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},$t=[];String.prototype.StrCut2Arr=function(t){for(var e=this,n=[],a=Math.ceil(e.length/t),s=0;s<a;s++)if(e.length>=t){var o=e.substring(0,t);n.push(o),e=e.substring(t)}else e=e,n.push(e);return n};var jt={props:{json:Object,show:Boolean,isLoading:Boolean,number:String},methods:{actionOK:function(){this.$emit("action","ok",this.data),this.wod="WIFI"},actionCancel:function(){this.$emit("action","cancel"),this.wod="WIFI"},changeClick:function(t){this.$emit("get-config",t),this.wod="WIFI"==t},getItems:function(t,e){var n={};if("object"===Object(Q["a"])(e[t])){if(n.name=t,e[t]["DataType"]){var a=e[t],s=a["DataType"];n.type="leaf",n.dataType=s,n.value=a["NodeVal"],"list"===s?(n.value=parseInt(n.value),n.list=a["ListVal"].split(";").map(function(t,e){return{index:e,label:t}})):"data"===s&&(n.value=n.value.StrCut2Arr(2).map(function(t){return parseInt(t,16)}).join(".")),console.log("key:".concat(t,"  type:").concat(n.type))}else for(var o in n.items=[],n.type="node",console.log("key:".concat(t,"  type:").concat(n.type)),e[t])n.items.push(this.getItems(o,e[t]));return n}}},computed:{toShow:{set:function(t){console.log(this.show)},get:function(){return this.show}},data:{set:function(t){console.log(t)},get:function(){if(this.json){var t={};for(var e in this.collapse="0",t.items=[],this.json["Edit Items"])"DevID"==e?(t.DevID=this.json["Edit Items"][e],t.Packet=this.json["Cfg Packet"].NodeVal,t.path=this.json["Cfg Packet"].path):t.items.push(this.getItems(e,this.json["Edit Items"]));var n=t.items.filter(function(t){return!t.items});if(t.items=t.items.filter(function(t){return t.items&&t.items.length>0}),n.length){var a={name:"Others"};a.items=n,t.items.push(a)}return t}return null}}},data:function(){return{op:0,wod:!0,collapse:"0"}}},Rt=jt,Nt=(n("4782"),Object(c["a"])(Rt,Ot,$t,!1,null,"9a81c65a",null));Nt.options.__file="configView.vue";var Lt=Nt.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{on:{"on-cancel":t.actionCancel},model:{value:t.toShow,callback:function(e){t.toShow=e},expression:"toShow"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("h4",{staticStyle:{height:"26px"}},[t._v("打印")])]),n("Row",{staticStyle:{display:"table"}},[n("RadioGroup",{staticStyle:{"padding-left":"10px",display:"table-cell","vertical-align":"middle"},model:{value:t.printType,callback:function(e){t.printType=e},expression:"printType"}},[n("span",[t._v("打印类型 : ")]),n("Radio",{attrs:{label:"图片"}}),n("Radio",{attrs:{label:"文本"}}),n("Radio",{attrs:{label:"16进制指令"}})],1),n("Tag",{staticStyle:{float:"right"},attrs:{type:"border"}},[t._v("设备编码:"),n("span",[t._v(t._s(t.number))])])],1),"图片"===t.printType?n("Row",[n("Divider",{attrs:{dashed:""}}),n("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"btn_file"},on:{change:t.getFile}}),n("Button",{attrs:{type:"primary"},on:{click:t.F_Open_dialog}},[t._v("选择图片")]),""!==t.imageSource?n("Card",{staticStyle:{"margin-top":"10px"},attrs:{"dis-hover":!0}},[n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{width:"98%"},attrs:{src:t.imageSource,alt:""}}),n("h3",[t._v(t._s(t.imageName))])])]):t._e()],1):n("Row",[n("Form",{attrs:{"label-width":40}},[n("Divider",{attrs:{dashed:""}}),n("FormItem",{staticClass:"formitemMargin",attrs:{label:"内容"}},[n("Input",{model:{value:t.sendData.content,callback:function(e){t.$set(t.sendData,"content",e)},expression:"sendData.content"}})],1)],1)],1),n("Form",{attrs:{inline:"","label-width":90}},["图片"===t.printType?n("Row",[n("Divider",{attrs:{dashed:""}}),n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:"图片输出宽度"}},[n("Input",{model:{value:t.sendData.imgW,callback:function(e){t.$set(t.sendData,"imgW",e)},expression:"sendData.imgW"}})],1)],1),n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:"图片输出高度"}},[n("Input",{model:{value:t.sendData.imgH,callback:function(e){t.$set(t.sendData,"imgH",e)},expression:"sendData.imgH"}})],1)],1)],1):t._e(),"图片"===t.printType?n("Row",[n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",attrs:{label:"图片X坐标"}},[n("Input",{model:{value:t.sendData.orgX,callback:function(e){t.$set(t.sendData,"orgX",e)},expression:"sendData.orgX"}})],1)],1),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",attrs:{label:"图片Y坐标"}},[n("Input",{model:{value:t.sendData.orgY,callback:function(e){t.$set(t.sendData,"orgY",e)},expression:"sendData.orgY"}})],1)],1)],1):t._e(),n("Row",[n("Divider",{attrs:{dashed:""}}),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",staticStyle:{width:"95%"},attrs:{label:"数据类型"}},[n("Select",{model:{value:t.sendData.dataFmt,callback:function(e){t.$set(t.sendData,"dataFmt",e)},expression:"sendData.dataFmt"}},[n("Option",{attrs:{value:"img"}},[t._v("img")]),n("Option",{attrs:{value:"text"}},[t._v("text")]),n("Option",{attrs:{value:"dat"}},[t._v("dat")])],1)],1)],1),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",staticStyle:{width:"95%"},attrs:{label:"数据内容编码"}},[n("Select",{model:{value:t.sendData.encodeType,callback:function(e){t.$set(t.sendData,"encodeType",e)},expression:"sendData.encodeType"}},[n("Option",{attrs:{value:"string"}},[t._v("string")]),n("Option",{attrs:{value:"base64"}},[t._v("base64")]),n("Option",{attrs:{value:"hex"}},[t._v("hex")]),n("Option",{attrs:{value:"json"}},[t._v("json")])],1)],1)],1)],1),n("Row",[n("Divider",{attrs:{dashed:""}}),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",staticStyle:{width:"95%"},attrs:{label:"作业数据类型"}},[n("Select",{model:{value:t.sendData.jobType,callback:function(e){t.$set(t.sendData,"jobType",e)},expression:"sendData.jobType"}},[n("Option",{attrs:{value:"print"}},[t._v("print")]),n("Option",{attrs:{value:"control"}},[t._v("control")]),n("Option",{attrs:{value:"config"}},[t._v("config")]),n("Option",{attrs:{value:"DFU"}},[t._v("DFU")])],1)],1)],1),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",staticStyle:{width:"95%"},attrs:{label:"目标设备"}},[n("Select",{model:{value:t.sendData.devType,callback:function(e){t.$set(t.sendData,"devType",e)},expression:"sendData.devType"}},[n("Option",{attrs:{value:"wifi"}},[t._v("wifi")]),n("Option",{attrs:{value:"device"}},[t._v("device")])],1)],1)],1)],1)],1),t.msg?n("Row",[n("Divider",{attrs:{dashed:""}}),n("h5",[t._v("信息:")]),n("p",{staticStyle:{display:"block","word-break":"break-all","word-wrap":"break-word"}},[t._v(t._s(JSON.stringify(t.msg)))])],1):t._e(),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:t.actionCancel}},[t._v("取消")]),n("Button",{attrs:{type:"primary"},on:{click:t.actionOK}},[t._v("发送")])],1),t.isLoading?n("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},Bt=[],Pt=n("0bbd");String.prototype.StrCut2Arr=function(t){for(var e=this,n=[],a=Math.ceil(e.length/t),s=0;s<a;s++)if(e.length>=t){var o=e.substring(0,t);n.push(o),e=e.substring(t)}else e=e,n.push(e);return n};var Jt={props:{json:Object,show:Boolean,number:String},computed:{toShow:{set:function(t){console.log(this.show)},get:function(){return this.show}},data:{set:function(t){console.log(t)},get:function(){if(this.json){var t={},e=[];return t.items=e,t}return null}}},watch:{show:function(){this.msg=this.imageName=this.imageSource=""}},data:function(){return{op:0,wod:!0,printType:"图片",content:"10170000",sendData:{dataFmt:"dat",devType:"wifi",encodeType:"hex",jobType:"control",content:"10170000"},imageSource:"",imageName:"",isLoading:!1,msg:""}},methods:{actionOK:function(){var t=Object(j["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.printType),this.isLoading=!0,this.msg="","图片"===this.printType?this.sendData.datas=this.imageSource:"base64"===this.sendData.encodeType?(console.log(this.sendData.content),this.sendData.datas=Pt["Base64"].encode(this.sendData.content),console.log(this.sendData.datas)):this.sendData.datas=this.sendData.content,this.sendData.number=this.number,console.log(JSON.stringify(this.sendData)),this.$emit("action","ok"),t.next=9,W(this.sendData);case 9:e=t.sent,this.showPrint=!0,void 0==e.data&&(this.msg="",this.$Message.error({content:"请求错误"})),this.msg=e.data,this.isLoading=!1;case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),actionCancel:function(){this.$emit("action","cancel")},changeClick:function(t){this.$emit("get-config",t),this.wod="WIFI"==t},getFile:function(t){var e=t.target.files[0];if(!e)return this.imageName=this.imageSource="",void console.log("取消");var n=/image\/\w+/.test(e.type);if(!n)return this.$Message.error({content:"只能选择图片"}),void(this.imageName=this.imageSource="");console.log("文件名:".concat(e.name," 大小:").concat(e.size," 类型:").concat(e.type," path:").concat(t.target.value)),this.imageName=e.name;var a=new FileReader;a.readAsDataURL(e),a.onload=function(t){console.log(t.target.result),this.imageSource=t.target.result}.bind(this)},F_Open_dialog:function(){document.getElementById("btn_file").click()}}},Vt=Jt,At=(n("d8fb"),Object(c["a"])(Vt,Et,Bt,!1,null,"8b36016c",null));At.options.__file="printView.vue";var zt=At.exports,qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",[n("Col",{attrs:{span:"8"}},t._l(t.datas,function(t){return n("div",[n("node-view",{attrs:{node:t}})],1)})),n("Col",{attrs:{span:"8"}},t._l(t.detail,function(t){return n("div",[n("node-view",{attrs:{node:t}})],1)})),n("Col",{attrs:{span:"8"}},t._l(t.states,function(t){return n("div",[n("node-view",{attrs:{node:t}})],1)})),t.isLoading?n("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)],1)},Wt=[],Gt={props:{number:String,row:Object},mounted:function(){this.fetchInfo()},methods:{fetchInfo:function(){var t=Object(j["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,K(this.row.Number,0);case 3:return e=t.sent,n=Z(e.data),this.datas=n,t.next=8,K(this.row.Number,1);case 8:return e=t.sent,n=Z(e.data),this.detail=n,t.next=13,K(this.row.Number,2);case 13:e=t.sent,n=Z(e.data),this.states=n,setTimeout(function(){a.isLoading=!1},200);case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},data:function(){return{datas:{},states:{},detail:{},isLoading:!0}}},Ht=Gt,Ut=(n("29f5"),Object(c["a"])(Ht,qt,Wt,!1,null,"b3b72f82",null));Ut.options.__file="moreInfoRow.vue";var Kt=Ut.exports;s.a.config.productionTip=!1,s.a.use(xt.a),s.a.component("dot-link",Tt),s.a.component("node-view",ot),s.a.component("config-view",Lt),s.a.component("print-view",zt),s.a.component("more-info-row",Kt),yt.beforeEach(function(t,e,n){kt.a.start(),window.document.title=t.meta.title,n()}),yt.afterEach(function(){kt.a.done()});e["default"]=new s.a({el:"#app",router:yt,components:{App:d},template:"<App/>"})},"64a9":function(t,e,n){},6657:function(t,e,n){},"6a94":function(t,e,n){"use strict";var a=n("6657"),s=n.n(a);s.a},"6c23":function(t,e,n){},"7abe":function(t,e,n){"use strict";var a=n("6c23"),s=n.n(a);s.a},8732:function(t,e,n){},"8bec":function(t,e,n){},9337:function(t,e,n){},9743:function(t,e,n){t.exports=n.p+"img/DSLogo.ca341e4f.png"},"9c6c1":function(t,e,n){"use strict";var a=n("e68b"),s=n.n(a);s.a},a6b0:function(t,e,n){"use strict";var a=n("e2d7"),s=n.n(a);s.a},b312:function(t,e,n){"use strict";var a=n("f1b1"),s=n.n(a);s.a},cec8:function(t,e,n){},d8fb:function(t,e,n){"use strict";var a=n("9337"),s=n.n(a);s.a},d937:function(t,e,n){"use strict";var a=n("43f7"),s=n.n(a);s.a},e2d7:function(t,e,n){},e68b:function(t,e,n){},f1b1:function(t,e,n){}});
//# sourceMappingURL=app.55f84b1b.js.map